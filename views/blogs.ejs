<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>CMS</title>
    <link rel="stylesheet" href="/css/blogs.css" />
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- Navigation Bar -->

    <%-include("components/navbar.ejs") %>
    <br />
        <div
          class="alert alert-warning alert-dismissible fade show"
          role="alert"
          style="height: 50px; width: 300px"
          id="alertDiv"
        >
          <strong><%- success%> </strong>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"
          ></button>
        </div>

    <!-- Card Section -->
    <div class="card-container">
      <% blogs.forEach((blog)=>{ %>
      <div class="card">
        <h2><%- blog.title %></h2>
        <h3><%- blog.subTitle %></h3>
        <img src="<%- blog.image %>" alt="" height="250px" width="200px" />
        <p><%- blog.description.slice(0,100) %>...</p>
        <p>Author : <%- blog.user.username %></p>
        <a href="/single/<%- blog.id %>">Read More</a>
      </div>
      <% }) %>
    </div>

    <%-include("components/footer.ejs") %>

    <!-- javascript from bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <script>
      const alert = document.getElementById("alertDiv");
      setTimeout(() => {
        alertDiv.style.display = "none";
      }, 2000);
    </script>
  </body>
</html>
